{% extends "sbadmin/base.html" %}
{% block title %}Your Counters{% endblock %}
{% block body %}
		<h1>Your Counters</h1>
		<ul>
		{% for counter in object_list %}
			<li><a href="/counters/{{ counter.name }}/">{{ counter.name|title }}: {{ counter.records }}</a></li>
		{% endfor %}
		</ul>
		<br>
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<div class="input-group">
						<input type="text" id="counter" class="form-control">
						<button class="btn btn-primary" onclick="button_handler()">New Counter</button>
					</div>
				</div>
			</div>
		</div>
		<script>
			function button_handler() {
				var counter = document.getElementById('counter').value;
				if (counter.includes('/')) {
					alert('Your new list name can\'t contain a slash character!');
				}
				else {
					document.location.href = '/counters/' + counter;
				}
			}

			document.getElementById('counter').addEventListener('keyup', function(event) {
				if (event.code === 'Enter') {
					event.preventDefault();
					button_handler();
				}
			});

		</script>
{% endblock %}
